(()=>{var e;e=jQuery,_,wp.media.videoFeatured={get:function(){return wp.media.view.settings.post.videoFeaturedId},set:function(t){var i=wp.media.view.settings;i.post.videoFeaturedId=t,wp.media.post("get_post_video_html",{post_id:i.post.id,video_id:i.post.videoFeaturedId,_wpnonce:i.post.nonce}).done((function(t){"0"!==t?e(".inside","#postvideodiv").html(t):window.alert(wp.i18n.__("Could not set that as the video. Try a different attachment."))}))},remove:function(){wp.media.videoFeatured.set(-1)},frame:function(){return this._frame?(wp.media.frame=this._frame,this._frame):(this._frame=frame=wp.media({frame:"select",id:"featured-video",title:"Featured video",button:{text:"Set featured video"},library:{type:["video"]},multiple:!1}),this._frame.on("open",(function(){var e=frame.state().get("selection");if(0===e.length){var t=wp.media.videoFeatured.get();t&&e.add(wp.media.attachment(t))}})),this._frame.on("select",(function(){var e=frame.state().get("selection").single();void 0!==e&&wp.media.videoFeatured.set(e?e.id:-1)})),this._frame)},init:function(){e("#postvideodiv").on("click","#set-post-video",(function(e){e.preventDefault(),e.stopPropagation(),wp.media.videoFeatured.frame().open()})).on("click","#remove-post-video",(function(){return wp.media.videoFeatured.remove(),!1}))}},e(wp.media.videoFeatured.init)})();