(function(c,e){wp.media.videoFeatured={get:function(){return wp.media.view.settings.post.videoFeaturedId},set:function(a){var b=wp.media.view.settings;b.post.videoFeaturedId=a;wp.media.post("get_post_video_html",{post_id:b.post.id,video_id:b.post.videoFeaturedId,_wpnonce:b.post.nonce}).done(function(d){d==="0"?window.alert(wp.i18n.__("Could not set that as the video. Try a different attachment.")):c(".inside","#postvideodiv").html(d)})},remove:function(){wp.media.videoFeatured.set(-1)},frame:function(){if(this._frame)return wp.media.frame=
this._frame;this._frame=frame=wp.media({frame:"select",id:"featured-video",title:"Featured video",button:{text:"Set featured video"},library:{type:["video"]},multiple:!1});this._frame.on("open",function(){var a=frame.state().get("selection");if(a.length===0){var b=wp.media.videoFeatured.get();b&&a.add(wp.media.attachment(b))}});this._frame.on("select",function(){var a=frame.state().get("selection").single();typeof a!=="undefined"&&wp.media.videoFeatured.set(a?a.id:-1)});return this._frame},init:function(){c("#postvideodiv").on("click",
"#set-post-video",function(a){a.preventDefault();a.stopPropagation();wp.media.videoFeatured.frame().open()}).on("click","#remove-post-video",function(){wp.media.videoFeatured.remove();return!1})}};c(wp.media.videoFeatured.init)})(jQuery,_);
